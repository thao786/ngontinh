%{(require '[ngontinh.libpath :as l]
           '[sodahead.render :as r]
           '[ngontinh.util.truyen :as truyen]
           '[clojure.java.io :as io]
)}


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
    <meta charset="utf-8">
    <title>Trang Ngôn Tình | Nơi Đọc Truyện Lý Tưởng Của Bạn</title>  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <meta name="keywords" content="classical novel, read online, ngon tinh, doc truyen, trang ngon tinh, truyen ngon tinh, huyen huyen, co dai, hien dai">
    <meta name="description" content="Free classical reading online, doc truyen ngon tinh">
    <link rel="icon" href="%(l/getFileLink "image/favicon.png")" type="image/gif" sizes="16x16">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="%(l/getFileLink "css/csssheet.css")" rel="stylesheet">
    <link href="%(l/getFileLink "css/advanced-css.css")" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Cinzel+Decorative:400,900' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
    <style>
      body{        
          background-image: url('%(l/getFileLink "image/bokeh.png")');
      }
      .jumbotron{
          background: #216bc9;
          background-image: url('%(l/getFileLink "image/zenbg-3.png")'), url('%(l/getFileLink "image/zenbg-4.png")');
      }    
      .jumbotron h1{
        color: #51916f;
      }
    </style>
</head>

<!--================================================== -->
  <body>

 <div class="container">
      <div class="startofbody">

        %include {"util/vn-header.html"}
        
        
        <div class="jumbotron">
          <p class="text-center"><h1>Trang Ngôn Tình</h1></p>
          <p>Nơi đọc truyện trực tuyến lý tưởng, danh sách truyện đầy đủ và hệ thống tìm kiếm giúp bạn đến với những trang sách dễ dàng hơn. Chúc bạn có những giây phút thoải mái và thư giãn.</p>
        </div>

        <div class="row body">
            <div class="col-sm-3">              
                %include {"util/vn-truyenngaunhien.html"}
            </div><!--col-sm-3-->

            
            <div class="col-sm-9">
              <div class="red panel panel-danger">
                <a href="%{l/hostPath}vn/liststory"><h2>Danh Sách Truyện</h2></a>
                <p>Danh Sách Truyện với đầy đủ các thông tin về truyện, giúp bạn chọn lựa truyện một cách dễ dàng và hợp lý nhất.</p>
                    <div class="row">
                        %{
                          (defn vn-row [linktruyen linkanh title] 
                            (str "<div class='col-sm-2'> 
                                    <a href='" linktruyen "'><img src='" linkanh "' class='thumbnail img-responsive' width='120' height='160'></a>
                                    <a href='" linktruyen "'><h5>" title "</h5></a>          
                                  </div>"
                          ))              
                          (def truyenrandom (truyen/getTruyen "SELECT * FROM truyen ORDER BY RANDOM() LIMIT 6"))

                          (apply str (for [x truyenrandom] (vn-row (x :linktruyen) (x :linkanh) (x :title))))           
                        }
                    </div><!--row-fluid-->
              </div>

              <br>
              <br>

              <div class="blue panel panel-info">
                <a href="%{l/hostPath}vn/gridtruyen/pgnumber/1"><h2>Thể Loại Truyện </h2></a>
                <p>Nơi đọc truyện trực tuyến lý tưởng. Truyện được nhiều độc giả quan tâm, danh sách truyện đầy đủ và hệ thống tìm kiếm giúp bạn đến với những trang sách dễ dàng hơn.</p>

                <div class="row">
                  <div class="col-sm-2 col-sm-offset-4">
                    <img src="%(l/getFileLink "image/dammy.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}gridtruyen/theloai/dammy/1"><h4><span class="label label-warning">Đam mỹ</h4></a>
                  </div>
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/nguoc.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}gridtruyen/theloai/nguoc/1"><h4><span class="label label-warning">Ngược</h4></a>
                  </div>  
                </div>


                <div class="row">
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/huyenhuyen.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/huyenhuyen/1"><h4><span class="label label-warning">Huyền Huyễn</h4></a>
                  </div>
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/cungdau.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/cungdau/1"><h4><span class="label label-warning">Cung Đấu</h4></a>
                  </div>  
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/vongdu.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/vongdu/1"><h4><span class="label label-warning">Võng du</h4></a>
                  </div>  
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/sac.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/sac/1"><h4><span class="label label-warning">Sắc</h4></a>
                  </div>  
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/xuyenkhong.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/xuyenkhong/1"><h4><span class="label label-warning">Xuyên Không</h4></a>
                  </div>  
                  <div class="col-sm-2">
                    <img src="%(l/getFileLink "image/trongsinh.jpg")" class="img-thumbnail img-responsive img-circle" width="130" height="130">
                    <a href="%{l/hostPath}vn/gridtruyen/theloai/trongsinh/1"><h4><span class="label label-warning">Trọng Sinh</h4></a>
                  </div>  
                </div>
              </div>

              <br>
              <br>

              <div class="yellow panel panel-warning">
               <a href="%{l/hostPath}"><h2>English Site</h2></a>
                <p>Home to classicals, Grimm Brothers and fairy tales. Ideal to improve your english skill.</p>
                    <div class="row">
                        %{
                          (defn eng-row [linktruyen linkanh title] 
                            (str "<div class='col-sm-2'> 
                                    <a href='" linktruyen "'><img src='" linkanh "' class='thumbnail img-responsive' width='120' height='160'></a>
                                    <a href='" linktruyen "'><h5>" title "</h5></a>          
                                  </div>"
                          ))              
                          (def truyenrandom (truyen/getTruyen2 "SELECT * FROM story ORDER BY RANDOM() LIMIT 6"))

                          (apply str (for [x truyenrandom] (eng-row (x :linktruyen) (x :linkanh) (x :title))))           
                        }
                    </div><!--row-fluid-->
              </div>      
                     
            </div><!-- col-sm-9 -->
        </div><!-- row body -->
      </div><!--startofbody-->
    </div><!--container-->  

      
    %include {"util/vn-footer.html"}


   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
   <script src="%(l/getFileLink "bootstrap/js/bootstrap.min.js")"></script>
   <script>

      $(document).ready(function(){
          $("#trangchu").addClass("active");
          $(".list-group-item:even").addClass("list-group-item-warning");
          $(".list-group-item:odd").addClass("list-group-item-success");
      });
      
  </script>
  </body>
</html>
